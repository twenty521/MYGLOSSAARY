<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EduGlossary</title>
    <!-- 加载依赖库 -->
    <script src="[https://unpkg.com/react@18/umd/react.production.min.js](https://unpkg.com/react@18/umd/react.production.min.js)"></script>
    <script src="[https://unpkg.com/react-dom@18/umd/react-dom.production.min.js](https://unpkg.com/react-dom@18/umd/react-dom.production.min.js)"></script>
    <script src="[https://unpkg.com/@babel/standalone/babel.min.js](https://unpkg.com/@babel/standalone/babel.min.js)"></script>
    <script src="[https://cdn.tailwindcss.com](https://cdn.tailwindcss.com)"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        
const App = () => {
  const [activeTab, setActiveTab] = useState('python');
  const [searchTerm, setSearchTerm] = useState('');
  const [isAdding, setIsAdding] = useState(false);
  const [newEntry, setNewEntry] = useState({ term: '', definition: '', chinese: '', example: '' });

  // Load and Save data from local storage
  const [glossary, setGlossary] = useState(() => {
    const saved = localStorage.getItem('edu_glossary_mobile_v1');
    return saved ? JSON.parse(saved) : {
      python: [{ id: 1, term: 'Dictionary', definition: 'A collection of key-value pairs.', chinese: '字典', example: "my_dict = {'key': 'value'}" }],
      statistics: [{ id: 1, term: 'Mean', definition: 'The average of a set of numbers.', chinese: '平均数', example: 'μ = (Σx) / n' }],
      grammar: [{ id: 1, term: 'Relative Clause', definition: 'A clause that modifies a noun or noun phrase.', chinese: '定语从句', example: 'The book that I read was great.' }]
    };
  });

  useEffect(() => {
    localStorage.setItem('edu_glossary_mobile_v1', JSON.stringify(glossary));
  }, [glossary]);

  const handleAdd = (e) => {
    e.preventDefault();
    if (!newEntry.term) return;
    const entry = { ...newEntry, id: Date.now() };
    setGlossary(prev => ({ ...prev, [activeTab]: [entry, ...prev[activeTab]] }));
    setNewEntry({ term: '', definition: '', chinese: '', example: '' });
    setIsAdding(false);
  };

  const deleteEntry = (id) => {
    if(window.confirm('确定要删除这条记录吗？')) {
      setGlossary(prev => ({ ...prev, [activeTab]: prev[activeTab].filter(item => item.id !== id) }));
    }
  };

  const filteredData = glossary[activeTab].filter(item => 
    item.term.toLowerCase().includes(searchTerm.toLowerCase()) || 
    item.chinese.includes(searchTerm)
  );

  return (
    <div className="min-h-screen bg-gray-50 flex flex-col font-sans text-gray-900 overflow-x-hidden">
      {/* Fixed Header */}
      <header className="sticky top-0 z-20 bg-indigo-600 text-white shadow-md p-4 pb-6 rounded-b-3xl">
        <div className="max-w-md mx-auto flex justify-between items-center mb-4">
          <div className="flex items-center gap-2">
            <div className="bg-white/20 p-2 rounded-xl">
              <BookOpen size={24} />
            </div>
            <div>
              <h1 className="text-xl font-bold leading-none">EduGlossary</h1>
              <p className="text-indigo-200 text-xs mt-1">Study Smarter, Not Harder</p>
            </div>
          </div>
          <button 
            onClick={() => setIsAdding(true)}
            className="bg-white text-indigo-600 p-2 rounded-full shadow-lg active:scale-95 transition-transform"
          >
            <Plus size={24} />
          </button>
        </div>

        {/* Mobile Search Bar */}
        <div className="max-w-md mx-auto relative">
          <Search className="absolute left-4 top-1/2 -translate-y-1/2 text-indigo-300" size={18} />
          <input 
            type="text" 
            placeholder="Search terms or Chinese..." 
            className="w-full bg-indigo-700/50 border-none rounded-2xl py-3 pl-12 pr-4 text-white placeholder:text-indigo-200 focus:ring-2 focus:ring-white/50 outline-none backdrop-blur-sm"
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
      </header>

      {/* Tabs - Scrollable on mobile */}
      <nav className="flex justify-center gap-4 p-4 sticky top-[136px] bg-gray-50/80 backdrop-blur-md z-10">
        {[
          { id: 'python', icon: <Code size={18} />, label: 'Python' },
          { id: 'statistics', icon: <PieChart size={18} />, label: 'Stats' },
          { id: 'grammar', icon: <PenTool size={18} />, label: 'English' }
        ].map(tab => (
          <button
            key={tab.id}
            onClick={() => setActiveTab(tab.id)}
            className={`flex flex-col items-center gap-1 px-4 py-2 rounded-2xl transition-all ${
              activeTab === tab.id ? "bg-white shadow-sm text-indigo-600 border-b-2 border-indigo-600" : "text-gray-400"
            }`}
          >
            {tab.icon}
            <span className="text-[10px] font-bold uppercase tracking-wider">{tab.label}</span>
          </button>
        ))}
      </nav>

      <main className="flex-grow max-w-md mx-auto w-full px-4 pb-24">
        <div className="space-y-4">
          {filteredData.map(item => (
            <div key={item.id} className="bg-white p-5 rounded-3xl shadow-sm border border-gray-100 relative group animate-in slide-in-from-bottom-2">
              <div className="flex justify-between items-start mb-2">
                <span className="bg-indigo-50 text-indigo-600 text-[10px] font-black px-2 py-1 rounded-lg uppercase">
                  {activeTab}
                </span>
                <button onClick={() => deleteEntry(item.id)} className="text-gray-300 hover:text-red-400">
                  <Trash2 size={16} />
                </button>
              </div>
              <h3 className="text-lg font-bold text-gray-800 leading-tight">{item.term}</h3>
              <p className="text-indigo-500 font-medium text-sm mb-3">{item.chinese}</p>
              
              <div className="space-y-3">
                <div className="text-sm text-gray-600 leading-snug">
                  <span className="text-gray-400 font-bold text-[10px] block mb-0.5 uppercase">Definition</span>
                  {item.definition}
                </div>
                {item.example && (
                  <div className="bg-gray-50 rounded-2xl p-3 border-l-2 border-indigo-200">
                    <span className="text-gray-400 font-bold text-[10px] block mb-1 uppercase">Example / Formula</span>
                    <code className="text-xs text-indigo-700 block whitespace-pre-wrap break-all font-mono italic">
                      {item.example}
                    </code>
                  </div>
                )}
              </div>
            </div>
          ))}
          {filteredData.length === 0 && (
            <div className="text-center py-20 opacity-30">
              <Smartphone size={48} className="mx-auto mb-2" />
              <p>No records found</p>
            </div>
          )}
        </div>
      </main>

      {/* Add Fullscreen Modal for Mobile */}
      {isAdding && (
        <div className="fixed inset-0 z-50 bg-white flex flex-col animate-in slide-in-from-bottom duration-300">
          <div className="p-4 flex justify-between items-center border-b">
            <h2 className="text-xl font-bold">New {activeTab} Entry</h2>
            <button onClick={() => setIsAdding(false)} className="p-2 bg-gray-100 rounded-full">
              <X size={24} />
            </button>
          </div>
          <form onSubmit={handleAdd} className="flex-grow p-6 space-y-4 overflow-y-auto">
            <div>
              <label className="text-xs font-bold text-gray-400 uppercase ml-1">Term (English)</label>
              <input 
                autoFocus
                className="w-full p-4 bg-gray-50 rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none text-lg mt-1"
                value={newEntry.term}
                onChange={e => setNewEntry({...newEntry, term: e.target.value})}
                placeholder="e.g. Eigenvalue"
              />
            </div>
            <div>
              <label className="text-xs font-bold text-gray-400 uppercase ml-1">Chinese Meaning</label>
              <input 
                className="w-full p-4 bg-gray-50 rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none mt-1"
                value={newEntry.chinese}
                onChange={e => setNewEntry({...newEntry, chinese: e.target.value})}
                placeholder="例如：特征值"
              />
            </div>
            <div>
              <label className="text-xs font-bold text-gray-400 uppercase ml-1">English Definition</label>
              <textarea 
                className="w-full p-4 bg-gray-50 rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none mt-1 h-32"
                value={newEntry.definition}
                onChange={e => setNewEntry({...newEntry, definition: e.target.value})}
                placeholder="The scalar factor by which the eigenvector is scaled..."
              />
            </div>
            <div>
              <label className="text-xs font-bold text-gray-400 uppercase ml-1">Example / Usage</label>
              <textarea 
                className="w-full p-4 bg-gray-50 rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 outline-none mt-1 h-24"
                value={newEntry.example}
                onChange={e => setNewEntry({...newEntry, example: e.target.value})}
                placeholder="Av = λv"
              />
            </div>
            <button type="submit" className="w-full bg-indigo-600 text-white py-5 rounded-3xl font-bold text-lg shadow-xl shadow-indigo-200 active:scale-95 transition-transform flex justify-center items-center gap-2">
              <Save size={20} /> Save to My List
            </button>
          </form>
        </div>
      )}
    </div>
  );
};

export default App;
        // 注意：删除最顶部的 import 语句，因为这里是通过 script 标签加载的
        // 并在末尾添加下面这行：
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
